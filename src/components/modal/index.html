<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Modal</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="modal-style.css" type="text/css" />
    <link rel="stylesheet" href="../cart/cart-style.css" type="text/css" />
    <style type="text/css" media="all">
      html,
      body {
        height: 100%;
      }
    </style>
  </head>
  <body>
    <button id="openBtn">Open modal</button>
    <button id="closeBtn">Cloase modal</button>

    <script type="module">
      import Modal from "./index.js";
      import Cart from "../cart/index.js";
      import { products } from "../../fixtures/products.js";

      class Component {
        constructor() {
          this.render();
        }

        render() {
          const element = document.createElement("div");

          element.innerHTML = "<div>Hello component</div>";

          this.element = element.firstElementChild;
        }

        destroy() {
          if (this.element) {
            this.element.remove();
          }
        }
      }

      const component = new Component();
      const cart = new Cart();

      for (const product of products) {
        cart.add(product);
      }

      const modal = new Modal(cart);

      openBtn.addEventListener("pointerdown", () => {
        modal.open();
      });

      closeBtn.addEventListener("pointerdown", () => {
        modal.close();
      });
    </script>
  </body>
</html>
